<!DOCTYPE html>
<html>
<head>
  <title>Video + Power BI xen kẽ</title>
  <style>
    html, body {margin:0;padding:0;height:100%;background:black;overflow:hidden;}
    iframe {width:100%;height:100%;border:none;}
  </style>
</head>
<body>

  <iframe id="player" allow="autoplay; fullscreen" allowfullscreen></iframe>

  <script>
    // Danh sách: video (vimeo) và báo cáo (powerbi)
    const playlist = [
      {type:"vimeo", id:"1119332063"},
      {type:"vimeo", id:"1119332013"},
      {type:"vimeo", id:"1119005050"}
    ];

    let i = 0, timer, refresher;

    function load(item){
      clearTimeout(timer); 
      clearInterval(refresher);
      const f = document.getElementById("player");

      if(item.type==="vimeo"){
        // Nhúng video Vimeo trực tiếp
        f.src = "https://player.vimeo.com/video/" + item.id + "?autoplay=1&muted=0";
        // Nếu không bắt được ended, tạm set thời lượng cố định (vd: 3 phút mỗi video)
        timer = setTimeout(next, 3*60*1000);
      } else {
        // Nhúng Power BI
        f.src = item.url;
        // 5 phút đổi sang nội dung kế tiếp
        timer = setTimeout(next, 5*60*1000);
        // 30s refresh để restart Play Axis
        refresher = setInterval(()=>{f.src=item.url}, 30*1000);
      }
    }

    function next(){
      i = (i+1)%playlist.length;
      load(playlist[i]);
    }

    // Bắt đầu
    load(playlist[i]);
  </script>

</body>
</html>
